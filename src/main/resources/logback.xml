<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <Pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg %marker%n</Pattern>
        </encoder>
    </appender>

    <appender name="METRICS" class="com.istresearch.galton.MetricsAppender">
        <datadogConfig>
            <apiKey>dd_api_key</apiKey>
            <applicationKey>dd_app_key</applicationKey>
        </datadogConfig>
        <!-- gaugePrefix and counterPrefix can be used in the log markers
             to indicate they have metrics to be collected -->
        <gaugePrefix>galton.gauge.</gaugePrefix>
        <counterPrefix>galton.counter</counterPrefix>
        <!-- appPrefix is prepended to the metric names that are pushed to datadog -->
        <appPrefix>cooper2</appPrefix>
        <gauge>
            <key>an_important_stmt</key>
            <value>an_important_gauge</value>
        </gauge>
        <gauge>
            <key>some_stmt</key>
            <value>some_gauge</value>
        </gauge>
        <counter>rule_deactivation_pending</counter>
        <counter>something_else</counter>
    </appender>

    <root level="INFO">
        <appender-ref ref="METRICS" />
        <appender-ref ref="STDOUT" />
    </root>

    <root level="DEBUG">
        <appender-ref ref="STDOUT" />
    </root>

</configuration>